record(ao, "$(PV_NAME)") {
  field(SCAN, "Passive")
  field(DESC, "$(DESC)")
  field(DTYP, "EtherIP")
  field(OUT, "@plc1 $(FLOW_TAG) S 1")
  field(DOL, "$(PV_NAME)_CALC.VAL")
  field(OMSL, "closed_loop")
  field(EGU, "g/sec")
}


record(calc, "$(PV_NAME)_CALC") {
  field(PINI, "YES")
  field(FLNK, "$(PV_NAME)")
  field(CALC, "1000*A*B*sqrt(2*D*100*E/(1-C^4))")
  field(INPA, "$(C_0)")
  field(INPB, "$(AREA)")
  field(INPC, "$(BETA)")
  field(INPD, "$(PV_NAME)_DEN CPP")
  field(INPE, "$(PV_NAME)_DP1 CPP")
  field(INPF, "CLS_REMOTE CPP")
  field(EGU, "g/sec")
}


record(sub, "$(PV_NAME)_DEN") {
  field(SCAN, "Passive")
  field(INPA, "$(PV_NAME)_PRS_PA CPP")
  field(INPB, "$(PV_NAME)_TEMP CPP")
  field(INAM, "hepSubInit")
  field(SNAM, "hepSubProcess")
  field(FLNK, "$(PV_NAME)_CALC")
  field(EGU, "kg/m^3")
}


record(ai, "$(PV_NAME)_DP") {
  field(SCAN, "1 second")
  field(DTYP, "EtherIP")
  field(INP, "@plc1 $(DP_TAG) S 1")
  field(EGU, "mbar")
}

record(calc, "$(PV_NAME)_DP1") { 
  field(CALC, "(A>0)?A:0") 
  field(INPA, "$(PV_NAME)_DP CPP") 
} 



record(ai, "$(PV_NAME)_TEMP") {
  field(SCAN, "1 second")
  field(DTYP, "EtherIP")
  field(INP, "@plc1 $(T_TAG) S 1")
  field(EGU, "K")
}


record(calc, "$(PV_NAME)_PRS_PA") {
  field(CALC, "A*100000")
  field(INPA, "$(PV_NAME)_PRS.VAL")
  field(EGU, "Pa")
}


record(ai, "$(PV_NAME)_PRS") {
  field(FLNK, "$(PV_NAME)_PRS_PA")
  field(SCAN, "1 second")
  field(DTYP, "EtherIP")
  field(INP, "@plc1 $(P_TAG) S 1")
  field(EGU, "barg")
}
